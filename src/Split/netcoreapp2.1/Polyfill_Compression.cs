// <auto-generated />
#pragma warning disable

#if FeatureCompression
namespace Polyfills;

using System;
using System.Linq;
using System.Threading;
using System.Threading.Tasks;
using System.IO;
using System.IO.Compression;

static partial class Polyfill
{

    /// <summary>
    /// Opens the entry from the zip archive.
    /// </summary>
    //Link: https://learn.microsoft.com/en-us/dotnet/api/system.io.compression.ziparchiveentry.openasync?view=net-10.0
    public static Task<Stream> OpenAsync(this ZipArchiveEntry target, CancellationToken cancellationToken = default)
    {
        cancellationToken.ThrowIfCancellationRequested();
        return Task.FromResult(target.Open());
    }

    /// <summary>
    /// Archives a file by compressing it and adding it to the zip archive.
    /// </summary>
    //Link: https://learn.microsoft.com/en-us/dotnet/api/system.io.compression.zipfileextensions.createentryfromfileasync?view=net-10.0
    public static Task<ZipArchiveEntry> CreateEntryFromFileAsync(this ZipArchive target, string sourceFileName, string entryName, CancellationToken cancellationToken = default)
    {
        cancellationToken.ThrowIfCancellationRequested();
        return Task.FromResult(target.CreateEntryFromFile(sourceFileName, entryName));
    }

    /// <summary>
    /// Archives a file by compressing it and adding it to the zip archive.
    /// </summary>
    //Link: https://learn.microsoft.com/en-us/dotnet/api/system.io.compression.zipfileextensions.createentryfromfileasync?view=net-10.0
    public static Task<ZipArchiveEntry> CreateEntryFromFileAsync(this ZipArchive target, string sourceFileName, string entryName, CompressionLevel compressionLevel, CancellationToken cancellationToken = default) =>
        Task.FromResult(target.CreateEntryFromFile(sourceFileName, entryName, compressionLevel));

    /// <summary>
    /// Extracts all the files in the zip archive to a directory on the file system.
    /// </summary>
    //Link: https://learn.microsoft.com/en-us/dotnet/api/system.io.compression.zipfileextensions.extracttodirectory?view=net-10.0#system-io-compression-zipfileextensions-extracttodirectory(system-io-compression-ziparchive-system-string)
    public static Task ExtractToDirectoryAsync(this ZipArchive target, string destinationDirectoryName, CancellationToken cancellationToken = default)
    {
        cancellationToken.ThrowIfCancellationRequested();
        target.ExtractToDirectory(destinationDirectoryName, false);
        return Task.CompletedTask;
    }

    /// <summary>
    /// Extracts all the files in the zip archive to a directory on the file system.
    /// </summary>
    //Link: https://learn.microsoft.com/en-us/dotnet/api/system.io.compression.zipfileextensions.extracttodirectoryasync?view=net-10.0#system-io-compression-zipfileextensions-extracttodirectoryasync(system-io-compression-ziparchive-system-string-system-boolean-system-threading-cancellationtoken)
    public static Task ExtractToDirectoryAsync(this ZipArchive target, string destinationDirectoryName, bool overwriteFiles, CancellationToken cancellationToken = default)
    {
        cancellationToken.ThrowIfCancellationRequested();
        target.ExtractToDirectory(destinationDirectoryName, overwriteFiles);
        return Task.CompletedTask;
    }

    /// <summary>
    /// Extracts an entry in the zip archive to a file.
    /// </summary>
    //Link: https://learn.microsoft.com/en-us/dotnet/api/system.io.compression.zipfileextensions.extracttofileasync?view=net-10.0#system-io-compression-zipfileextensions-extracttofileasync(system-io-compression-ziparchiveentry-system-string-system-threading-cancellationtoken)
    public static Task ExtractToFileAsync(this ZipArchiveEntry source, string destinationFileName, CancellationToken cancellationToken = default)
    {
        cancellationToken.ThrowIfCancellationRequested();
        source.ExtractToFile(destinationFileName);
        return Task.CompletedTask;
    }

    /// <summary>
    /// Extracts an entry in the zip archive to a file.
    /// </summary>
    //Link: https://learn.microsoft.com/en-us/dotnet/api/system.io.compression.zipfileextensions.extracttofileasync?view=net-10.0#system-io-compression-zipfileextensions-extracttofileasync(system-io-compression-ziparchiveentry-system-string-system-boolean-system-threading-cancellationtoken)
    public static Task ExtractToFileAsync(this ZipArchiveEntry source, string destinationFileName, bool overwrite, CancellationToken cancellationToken = default)
    {
        cancellationToken.ThrowIfCancellationRequested();
        source.ExtractToFile(destinationFileName, overwrite);
        return Task.CompletedTask;
    }

}
#endif