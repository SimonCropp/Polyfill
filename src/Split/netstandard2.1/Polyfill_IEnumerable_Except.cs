// <auto-generated />
#pragma warning disable
namespace Polyfills;
using System;
using System.Collections.Generic;
using System.Linq;
static partial class Polyfill
{
	/// <summary>
	/// Produces a set items excluding <paramref name="item"/> by using the default equality comparer to compare values.
	/// </summary>
	public static IEnumerable<TSource> Except<TSource>(
		this IEnumerable<TSource> target,
		TSource item) =>
		Except<TSource>(target, item, null);
	/// <summary>
	/// Produces a set items excluding <paramref name="item"/> by using <paramref name="comparer"/> to compare values.
	/// </summary>
	public static IEnumerable<TSource> Except<TSource>(
		this IEnumerable<TSource> target,
		TSource item,
		IEqualityComparer<TSource>? comparer)
	{
		var set = new HashSet<TSource>(comparer) {item};
		foreach (var element in target)
		{
			if (set.Add(element))
			{
				yield return element;
			}
		}
	}
	/// <summary>
	/// Produces the set difference of two sequences by <paramref name="comparer"/> to compare values.
	/// </summary>
	public static IEnumerable<TSource> Except<TSource>(
		this IEnumerable<TSource> target,
		IEqualityComparer<TSource>? comparer,
		params TSource[] items) =>
		target.Except((IEnumerable<TSource>)items, comparer);
	/// <summary>
	/// Produces the set difference of two sequences according to a specified key selector function.
	/// </summary>
	public static IEnumerable<TSource> ExceptBy<TSource, TKey>(this IEnumerable<TSource> first, IEnumerable<TKey> second, Func<TSource, TKey> keySelector) =>
		ExceptBy(first, second, keySelector, null);
	/// <summary>
	/// Produces the set difference of two sequences according to a specified key selector function.
	/// </summary>
	public static IEnumerable<TSource> ExceptBy<TSource, TKey>(this IEnumerable<TSource> first, IEnumerable<TKey> second, Func<TSource, TKey> keySelector, IEqualityComparer<TKey>? comparer) =>
		ExceptByIterator(first, second, keySelector, comparer);
	static IEnumerable<TSource> ExceptByIterator<TSource, TKey>(IEnumerable<TSource> first, IEnumerable<TKey> second, Func<TSource, TKey> keySelector, IEqualityComparer<TKey>? comparer)
	{
		var set = new HashSet<TKey>(second, comparer);
		foreach (var element in first)
		{
			if (set.Add(keySelector(element)))
			{
				yield return element;
			}
		}
	}
}
